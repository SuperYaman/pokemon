{% extends 'base.html.twig.' %}

{% block title %}Hello BackController!{% endblock %}

{% block body %}
<div>


    {% if users is not empty %}

        <table class="table table-hover table-striped text-center mt-3">

            <thead class="bg-dark text-white">
            <tr>
                <th>ID</th>
                <th>Nom</th>
                <th>Email</th>
                <th>Role</th>
                <th>Modifier</th>
                <th>Supprimer</th>
            </tr>
            </thead>

            <tbody>


            {% for user in users %}

                <tr class="align-middle">

                    <td>{{ user.id }}</td>

                    <td>{{ user.username }}</td>

                    <td>{{ user.email }}</td>

                    {% for unrole in user.roles %}
                    <td>{{unrole}}</td>
                    {% endfor %}

                    <td>
                        <a href="{{ path('promote', {"id":user.id} )}}"><button type="button" class="btn btn-primary">Modifier</button></a>
                    </td>
                    <td>
                        <a href="{{ path('delete_user', {"id":user.id} ) }}"><button type="button" class="btn btn-primary">Supprimer</button></a>
                    </td>

                </tr>


            {% endfor %}


            </tbody>


        </table>


    {% else %}

        <h4 class="text-center text-danger fst-italic mt-3">Il n'y a pas de produits pour le moment</h4>

    {% endif %}

</div>
{% endblock %}
